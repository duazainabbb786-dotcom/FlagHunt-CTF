<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBER | Malware Analysis CTF</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Hacker Font -->
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="Malware style.css">
</head>
<body>
    <!-- Matrix Background Effect -->
    <div class="matrix-bg"></div>
    
    <!-- Scanner Line -->
    <div class="scanner-line"></div>
    
    <!-- Main Container -->
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-xl-9">
                
                <!-- Header -->
                <header class="ctf-header text-center mb-5">
                    <div class="hacker-logo mb-4">
                        <div class="hexagon">
                            <i class="bi bi-shield-shaded"></i>
                        </div>
                    </div>
                    <h1 class="cyber-title glitch" data-text="MALWARE ANALYSIS CTF">
                        MALWARE ANALYSIS CTF
                    </h1>
                    <p class="cyber-subtitle">INVESTIGATE • ANALYZE • CAPTURE</p>
                    
                    <!-- Live Stats -->
                    <div class="live-stats">
                        <div class="stat-item">
                            <span class="stat-label">SYSTEM STATUS</span>
                            <span class="stat-value pulse">ACTIVE</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">THREAT LEVEL</span>
                            <span class="stat-value danger">CRITICAL</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">FLAGS CAPTURED</span>
                            <span class="stat-value" id="flags-captured">0/5</span>
                        </div>
                    </div>
                </header>

                <!-- Scenario Panel -->
                <div class="scenario-panel mb-5">
                    <div class="panel-header">
                        <h3><i class="bi bi-exclamation-triangle-fill"></i> INCIDENT REPORT</h3>
                        <div class="header-lights">
                            <span class="light red"></span>
                            <span class="light yellow"></span>
                            <span class="light green"></span>
                        </div>
                    </div>
                    <div class="panel-content">
                        <div class="alert alert-cyber">
                            <i class="bi bi-bug-fill"></i>
                            <strong>ALERT:</strong> Malicious executable detected on production server.
                        </div>
                        <p class="scenario-text">
                            <span class="terminal-prompt">root@forensics:~$</span> A suspicious binary file <code>malware.exe</code> was discovered on a compromised financial server. 
                            The malware exhibits sophisticated behavior including obfuscation, command-and-control communication, 
                            and data exfiltration capabilities. Your mission is to analyze it layer by layer.
                        </p>
                        <div class="scenario-details">
                            <div class="detail-item">
                                <span class="detail-label">File:</span>
                                <span class="detail-value">malware.exe</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Size:</span>
                                <span class="detail-value">2.4 MB</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">First Seen:</span>
                                <span class="detail-value">2023-11-15 03:47:22 UTC</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flags Grid -->
                <div class="row g-4 mb-5">
                    <!-- Flag 1 -->
                    <div class="col-lg-4 col-md-6">
                        <div class="flag-card" data-flag="1">
                            <div class="flag-card-header">
                                <span class="flag-number">01</span>
                                <span class="flag-status" id="flag1-status">LOCKED</span>
                            </div>
                            <div class="flag-card-body">
                                <h4 class="flag-title">
                                    <i class="bi bi-file-binary"></i>
                                    File Inspection
                                </h4>
                                <p class="flag-desc">Identify the malware file type and architecture</p>
                                <div class="flag-meta">
                                    <span class="difficulty easy">BEGINNER</span>
                                    <span class="points">50 PTS</span>
                                </div>
                                <div class="flag-submit mt-3" id="flag1-submit" style="display: none;">
                                    <div class="input-group">
                                        <input type="text" class="form-control flag-input" id="flag1-input" 
                                               placeholder="Enter FLAG{...}">
                                        <button class="btn btn-submit" onclick="submitFlag(1)">
                                            <i class="bi bi-check-lg"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="flag-card-footer">
                                <button class="btn btn-cyber" onclick="startAnalysis(1)">
                                    <i class="bi bi-terminal"></i> START ANALYSIS
                                </button>
                                <button class="btn btn-hint" onclick="showHint(1)">
                                    <i class="bi bi-lightbulb"></i> HINT
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Flag 2 -->
                    <div class="col-lg-4 col-md-6">
                        <div class="flag-card" data-flag="2">
                            <div class="flag-card-header">
                                <span class="flag-number">02</span>
                                <span class="flag-status" id="flag2-status">LOCKED</span>
                            </div>
                            <div class="flag-card-body">
                                <h4 class="flag-title">
                                    <i class="bi bi-text-left"></i>
                                    Strings Analysis
                                </h4>
                                <p class="flag-desc">Extract readable strings and identify C2 server</p>
                                <div class="flag-meta">
                                    <span class="difficulty easy">BEGINNER</span>
                                    <span class="points">75 PTS</span>
                                </div>
                                <div class="flag-submit mt-3" id="flag2-submit" style="display: none;">
                                    <div class="input-group">
                                        <input type="text" class="form-control flag-input" id="flag2-input" 
                                               placeholder="Enter FLAG{...}">
                                        <button class="btn btn-submit" onclick="submitFlag(2)">
                                            <i class="bi bi-check-lg"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="flag-card-footer">
                                <button class="btn btn-cyber" onclick="startAnalysis(2)">
                                    <i class="bi bi-terminal"></i> START ANALYSIS
                                </button>
                                <button class="btn btn-hint" onclick="showHint(2)">
                                    <i class="bi bi-lightbulb"></i> HINT
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Flag 3 -->
                    <div class="col-lg-4 col-md-6">
                        <div class="flag-card" data-flag="3">
                            <div class="flag-card-header">
                                <span class="flag-number">03</span>
                                <span class="flag-status" id="flag3-status">LOCKED</span>
                            </div>
                            <div class="flag-card-body">
                                <h4 class="flag-title">
                                    <i class="bi bi-hash"></i>
                                    Hashing & Signatures
                                </h4>
                                <p class="flag-desc">Calculate malware hash and identify variants</p>
                                <div class="flag-meta">
                                    <span class="difficulty medium">INTERMEDIATE</span>
                                    <span class="points">100 PTS</span>
                                </div>
                                <div class="flag-submit mt-3" id="flag3-submit" style="display: none;">
                                    <div class="input-group">
                                        <input type="text" class="form-control flag-input" id="flag3-input" 
                                               placeholder="Enter FLAG{...}">
                                        <button class="btn btn-submit" onclick="submitFlag(3)">
                                            <i class="bi bi-check-lg"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="flag-card-footer">
                                <button class="btn btn-cyber" onclick="startAnalysis(3)">
                                    <i class="bi bi-terminal"></i> START ANALYSIS
                                </button>
                                <button class="btn btn-hint" onclick="showHint(3)">
                                    <i class="bi bi-lightbulb"></i> HINT
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Flag 4 -->
                    <div class="col-lg-4 col-md-6">
                        <div class="flag-card" data-flag="4">
                            <div class="flag-card-header">
                                <span class="flag-number">04</span>
                                <span class="flag-status" id="flag4-status">LOCKED</span>
                            </div>
                            <div class="flag-card-body">
                                <h4 class="flag-title">
                                    <i class="bi bi-hdd-network"></i>
                                    Network Analysis
                                </h4>
                                <p class="flag-desc">Analyze C2 communication and beaconing</p>
                                <div class="flag-meta">
                                    <span class="difficulty medium">INTERMEDIATE</span>
                                    <span class="points">150 PTS</span>
                                </div>
                                <div class="flag-submit mt-3" id="flag4-submit" style="display: none;">
                                    <div class="input-group">
                                        <input type="text" class="form-control flag-input" id="flag4-input" 
                                               placeholder="Enter FLAG{...}">
                                        <button class="btn btn-submit" onclick="submitFlag(4)">
                                            <i class="bi bi-check-lg"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="flag-card-footer">
                                <button class="btn btn-cyber" onclick="startAnalysis(4)">
                                    <i class="bi bi-terminal"></i> START ANALYSIS
                                </button>
                                <button class="btn btn-hint" onclick="showHint(4)">
                                    <i class="bi bi-lightbulb"></i> HINT
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Flag 5 -->
                    <div class="col-lg-4 col-md-6">
                        <div class="flag-card" data-flag="5">
                            <div class="flag-card-header">
                                <span class="flag-number">05</span>
                                <span class="flag-status" id="flag5-status">LOCKED</span>
                            </div>
                            <div class="flag-card-body">
                                <h4 class="flag-title">
                                    <i class="bi bi-cpu"></i>
                                    Reverse Engineering
                                </h4>
                                <p class="flag-desc">Decompile and analyze hidden payload</p>
                                <div class="flag-meta">
                                    <span class="difficulty hard">ADVANCED</span>
                                    <span class="points">200 PTS</span>
                                </div>
                                <div class="flag-submit mt-3" id="flag5-submit" style="display: none;">
                                    <div class="input-group">
                                        <input type="text" class="form-control flag-input" id="flag5-input" 
                                               placeholder="Enter FLAG{...}">
                                        <button class="btn btn-submit" onclick="submitFlag(5)">
                                            <i class="bi bi-check-lg"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="flag-card-footer">
                                <button class="btn btn-cyber" onclick="startAnalysis(5)">
                                    <i class="bi bi-terminal"></i> START ANALYSIS
                                </button>
                                <button class="btn btn-hint" onclick="showHint(5)">
                                    <i class="bi bi-lightbulb"></i> HINT
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Card -->
                    <div class="col-lg-4 col-md-6">
                        <div class="progress-card">
                            <h4><i class="bi bi-graph-up"></i> ANALYSIS PROGRESS</h4>
                            <div class="progress-cyber">
                                <div class="progress-bar-cyber" id="progress-bar"></div>
                            </div>
                            <div class="progress-stats">
                                <div class="stat">
                                    <span class="stat-value" id="progress-percent">0%</span>
                                    <span class="stat-label">COMPLETE</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value" id="total-points">0</span>
                                    <span class="stat-label">POINTS</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value" id="time-spent">00:00</span>
                                    <span class="stat-label">TIME</span>
                                </div>
                            </div>
                            <button class="btn btn-reset" onclick="resetCTF()">
                                <i class="bi bi-arrow-clockwise"></i> RESET MISSION
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Terminal Panel -->
                <div class="terminal-panel" id="terminal">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="bi bi-terminal-fill"></i>
                            FORENSICS TERMINAL
                            <span class="blinking-cursor">_</span>
                        </div>
                        <div class="terminal-controls">
                            <button class="btn-terminal" onclick="clearTerminal()">
                                <i class="bi bi-trash"></i> CLEAR
                            </button>
                            <button class="btn-terminal" onclick="closeTerminal()">
                                <i class="bi bi-x-lg"></i> MINIMIZE
                            </button>
                        </div>
                    </div>
                    <div class="terminal-body" id="terminal-output">
                        <div class="terminal-line">
                            <span class="prompt">root@forensics:~$</span> Welcome to Malware Analysis CTF v2.0
                        </div>
                        <div class="terminal-line">
                            <span class="prompt">root@forensics:~$</span> Click START ANALYSIS on any flag to begin
                        </div>
                        <div class="terminal-line">
                            <span class="prompt">root@forensics:~$</span> Type 'help' for available commands
                        </div>
                        <div class="terminal-line">
                            <span class="prompt">root@forensics:~$</span> 
                        </div>
                    </div>
                    <div class="terminal-input">
                        <span class="input-prompt">root@forensics:~$</span>
                        <input type="text" class="terminal-cmd" id="terminal-input" 
                               placeholder="Type commands here..." autocomplete="off">
                    </div>
                </div>

                <!-- Footer -->
                <footer class="ctf-footer text-center mt-5">
                    <p class="footer-text">
                        <i class="bi bi-shield-lock"></i> CYBER SECURITY TRAINING PLATFORM v2.0
                    </p>
                    <div class="footer-links">
                        <a href="#" class="footer-link"><i class="bi bi-github"></i> SOURCE</a>
                        <a href="#" class="footer-link"><i class="bi bi-file-text"></i> DOCS</a>
                        <a href="#" class="footer-link"><i class="bi bi-discord"></i> COMMUNITY</a>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <!-- Modal for Hints -->
    <div class="modal fade" id="hintModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content cyber-modal">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-lightbulb-fill"></i> ANALYSIS HINT</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="hintContent">
                    <!-- Hint content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Flag Success -->
    <div class="modal fade" id="successModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content cyber-modal">
                <div class="modal-header">
                    <h5 class="modal-title text-success"><i class="bi bi-flag-fill"></i> FLAG CAPTURED!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="successContent">
                    <!-- Success content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Flag Error -->
    <div class="modal fade" id="errorModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content cyber-modal">
                <div class="modal-header">
                    <h5 class="modal-title text-danger"><i class="bi bi-exclamation-triangle-fill"></i> INCORRECT FLAG</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="errorContent">
                    <!-- Error content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="Malware script.js"></script>
</body>
</html>